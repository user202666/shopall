(window["proof-factor-plugin"]=window["proof-factor-plugin"]||[]).push([["xdomaincookie"],{b1cb:function(o,n){(function(o){"use strict";var n=function(o,n,e,i,t,a){"//"===o.substr(0,2)&&(o=("https:"===window.location.protocol?"https:":"http:")+o);var c=n||"xdsc",r=i||6e3,s=!1,u=!1,d=[],_={},l=(new Date).getTime(),f=30,m=!!e,p=!!t,g=!!a;function w(){g&&(arguments[0]=":XDC_PAGE: "+arguments[0],console.log.apply(console,arguments))}function v(n){w("_inbound_postmessage",n.origin,n.data);var e=n.origin||n.originalEvent.origin;if(o.substr(0,e.length)===e&&"string"===typeof n.data){var i=null;try{i=JSON.parse(n.data)}catch(t){}i&&("object"!==typeof i||i instanceof Array||"msg_type"in i&&"xdsc_read"===i.msg_type&&"namespace"in i&&i.namespace===c&&(_=i.cookies,s=!0,k()))}}function h(){w("_iframe_load_error_occured"),u=!0,k()}function y(o){d.push(o),k()}function k(){if(u||s)while(d.length>0)d.pop()(u)}function x(n,e,i){var t={namespace:c,msg_type:"xdsc_write",cookie_name:n,cookie_val:e,expires_days:i,secure_only:p};w("_set_cookie_in_iframe",t),document.getElementById("xdomain_cookie_"+l).contentWindow.postMessage(JSON.stringify(t),o)}function b(o){for(var n=o+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){var t=e[i].trim();if(0===t.indexOf(n))return decodeURIComponent(t.substring(n.length,t.length))}return""}function C(o,n,e){var i=new Date;i.setTime(i.getTime()+1e3*e*60*60*24);var t=o+"="+n+"; expires="+i.toUTCString()+(p?";secure":"");w("_set_local_cookie",t),document.cookie=t}function D(o,n,e){if(!s&&!u)return d.push((function(){D(o,n,e)}));e=e||f,e=null===n||void 0===n?-100:e,m||C(o,n,e),u||x(o,n,e),_[o]=n}function E(o,n,e){function i(n,i,t){w("_get_xdomain_cookie_value D",n,i),D(o,i,e),"function"===typeof t&&t(i)}if(e=e||f,w("_get_xdomain_cookie_value A",o),!m){var t=b(o);if(t)return w("_get_xdomain_cookie_value B",t),y((function(o){i(!o,t)})),n(t)}y((function(e){if(w("_get_xdomain_cookie_value C",e),e)return i(!1,null,n);var t=o in _?_[o]:null;i(!e,t,n)}))}window.addEventListener("message",v);var T=document.createElement("iframe");T.style.display="none",T.id="xdomain_cookie_"+l;var O=window.location.origin;O||(O=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var S={namespace:c,window_origin:O,iframe_origin:o,debug:g};return T.src=o+"/xdomain_cookie.html#"+encodeURIComponent(JSON.stringify(S)),document.body.appendChild(T),w("creating iframe",T.src),setTimeout((function(){s||h()}),r),{get:E,set:D}};o.xDomainCookie=n})(this)}}]);